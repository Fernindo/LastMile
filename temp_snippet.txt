    def refresh_login_btn():        try:            is_in = load_login_state()            login_btn.configure(bootstyle=("success" if is_in else "danger"))            login_name_var.set(_compute_login_name())            # toggle login button visibility depending on state            try:                if is_in and login_btn.winfo_ismapped():                    login_btn.pack_forget()                elif (not is_in) and (not login_btn.winfo_ismapped()):                    login_btn.pack(side="right", padx=(6, 0))            except Exception:                pass            # voliteľne zmeň text (napr. „Prihlásený“ / „Prihlásenie“):            # login_btn.configure(text=("Prihlásený" if is_in else "Prihlásenie"))        except Exception:            # ak by bol súbor počas zápisu, ignoruj chybu a skús znova            pass        finally:            root.after(2000, refresh_login_btn)  # každé 2 sekundy    refresh_login_btn()        # tlačidlo Odhlásiť (X)    def do_logout():        set_logged_out()        login_btn.configure(bootstyle="danger")        login_name_var.set("")        # ensure login button visible after logout        try:            if not login_btn.winfo_ismapped():                login_btn.pack(side="right", padx=(6, 0))